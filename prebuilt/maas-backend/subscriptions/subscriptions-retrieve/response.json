{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "https://api.maas.global/maas-backend/subscriptions/subscriptions-retrieve/response",
  "description": "Response schema for subscriptions-retrieve",
  "type": "object",
  "properties": {
    "subscription": {
      "$schema": "http://json-schema.org/draft-04/schema#",
      "id": "https://api.maas.global/maas-backend/subscriptions/subscriptionOption",
      "description": "MaaS subscription option schema",
      "allOf": [
        {
          "type": "object",
          "properties": {
            "plan": {
              "description": "Customer subscription plan",
              "type": "object",
              "properties": {
                "id": {
                  "description": "Identifier for matching the plans (Chargebee compat.)",
                  "type": "string",
                  "pattern": "^(?:[\\0-\\x08\\x0E-\\x1F!-\\.0-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]){1,50}$"
                },
                "name": {
                  "type": "string",
                  "minLength": 1
                },
                "description": {
                  "type": "string",
                  "minLength": 1
                },
                "price": {
                  "description": "A fare/price as billed by a TSP from MaaS in EUR",
                  "type": "object",
                  "required": [
                    "amount",
                    "currency"
                  ],
                  "properties": {
                    "amount": {
                      "anyOf": [
                        {
                          "type": "number",
                          "minimum": 0,
                          "multipleOf": 0.01
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "discount": {
                      "type": "number",
                      "minimum": 0,
                      "multipleOf": 0.01
                    },
                    "taxes": {
                      "type": "number",
                      "minimum": 0,
                      "multipleOf": 0.01
                    },
                    "currency": {
                      "description": "Accepted monetary unit in ISO 4127 format, see https://en.wikipedia.org/wiki/ISO_4217#cite_note-1",
                      "type": "string",
                      "enum": [
                        "EUR",
                        "GBP"
                      ]
                    }
                  },
                  "additionalProperties": false
                }
              },
              "required": [
                "id"
              ],
              "additionalProperties": true
            },
            "addons": {
              "type": "array",
              "items": {
                "description": "Customer subscription add-ons",
                "type": "object",
                "properties": {
                  "id": {
                    "description": "Identifier for matching the plans (Chargebee compat.)",
                    "type": "string",
                    "pattern": "^(?:[\\0-\\x08\\x0E-\\x1F!-\\.0-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]){1,50}$"
                  },
                  "name": {
                    "type": "string",
                    "minLength": 1
                  },
                  "description": {
                    "type": "string",
                    "minLength": 1
                  },
                  "quantity": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 100000,
                    "default": 1
                  },
                  "unitPrice": {
                    "description": "A fare/price as billed by a TSP from MaaS in EUR",
                    "type": "object",
                    "required": [
                      "amount",
                      "currency"
                    ],
                    "properties": {
                      "amount": {
                        "anyOf": [
                          {
                            "type": "number",
                            "minimum": 0,
                            "multipleOf": 0.01
                          },
                          {
                            "type": "null"
                          }
                        ]
                      },
                      "discount": {
                        "type": "number",
                        "minimum": 0,
                        "multipleOf": 0.01
                      },
                      "taxes": {
                        "type": "number",
                        "minimum": 0,
                        "multipleOf": 0.01
                      },
                      "currency": {
                        "description": "Accepted monetary unit in ISO 4127 format, see https://en.wikipedia.org/wiki/ISO_4217#cite_note-1",
                        "type": "string",
                        "enum": [
                          "EUR",
                          "GBP"
                        ]
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "required": [
                  "id",
                  "quantity"
                ],
                "additionalProperties": true
              }
            },
            "coupons": {
              "type": "array",
              "items": {
                "description": "Additional coupon that may provide discounts",
                "type": "object",
                "properties": {
                  "id": {
                    "description": "Identifier for matching the plans (Chargebee compat.)",
                    "type": "string",
                    "pattern": "^(?:[\\0-\\x08\\x0E-\\x1F!-\\.0-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]){1,50}$"
                  },
                  "name": {
                    "type": "string",
                    "minLength": 1
                  },
                  "description": {
                    "type": "string",
                    "minLength": 1
                  }
                },
                "required": [
                  "id"
                ]
              }
            },
            "terms": {
              "description": "Terms related to this subscription",
              "type": "object",
              "properties": {
                "activated": {
                  "description": "POSIX time in milliseconds, https://en.wikipedia.org/wiki/Unix_time",
                  "type": "integer",
                  "maximum": 9007199254740991,
                  "minimum": 1451606400
                },
                "modified": {
                  "description": "POSIX time in milliseconds, https://en.wikipedia.org/wiki/Unix_time",
                  "type": "integer",
                  "maximum": 9007199254740991,
                  "minimum": 1451606400
                },
                "validity": {
                  "description": "Subscription validity conditions",
                  "type": "object",
                  "properties": {
                    "startTime": {
                      "description": "POSIX time in milliseconds, https://en.wikipedia.org/wiki/Unix_time",
                      "type": "integer",
                      "maximum": 9007199254740991,
                      "minimum": 1451606400
                    },
                    "endTime": {
                      "description": "POSIX time in milliseconds, https://en.wikipedia.org/wiki/Unix_time",
                      "type": "integer",
                      "maximum": 9007199254740991,
                      "minimum": 1451606400
                    }
                  },
                  "required": [
                    "startTime",
                    "endTime"
                  ]
                },
                "scheduledChanges": {
                  "type": "boolean",
                  "default": false
                }
              },
              "required": [
                "activated",
                "modified",
                "validity"
              ]
            }
          },
          "additionalProperties": true
        },
        {
          "type": "object",
          "properties": {
            "plan": {
              "type": "object"
            },
            "addons": {
              "type": "array"
            },
            "coupons": {
              "type": "array"
            },
            "discounts": {
              "type": "array"
            },
            "meta": {
              "description": "Arbitrary metadata on whatever app might need to display",
              "type": "object",
              "additionalProperties": true
            },
            "wmpGrant": {
              "type": "integer",
              "minValue": 0
            },
            "availability": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "required": [
            "plan",
            "wmpGrant"
          ],
          "additionalProperties": true
        }
      ],
      "definitions": {
        "subscriptionAdditions": {
          "type": "object",
          "properties": {
            "plan": {
              "type": "object"
            },
            "addons": {
              "type": "array"
            },
            "coupons": {
              "type": "array"
            },
            "discounts": {
              "type": "array"
            },
            "meta": {
              "description": "Arbitrary metadata on whatever app might need to display",
              "type": "object",
              "additionalProperties": true
            },
            "wmpGrant": {
              "type": "integer",
              "minValue": 0
            },
            "availability": {
              "type": "object",
              "additionalProperties": true
            }
          },
          "required": [
            "plan",
            "wmpGrant"
          ],
          "additionalProperties": true
        }
      }
    },
    "debug": {
      "type": "object",
      "additionalProperties": true
    }
  },
  "required": [
    "subscription"
  ],
  "additionalProperties": false
}