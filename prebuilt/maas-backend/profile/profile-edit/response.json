{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "https://api.maas.global/maas-backend/profile/profile-edit/response",
  "description": "Response schema for profile-edit",
  "type": "object",
  "properties": {
    "profile": {
      "$schema": "http://json-schema.org/draft-04/schema#",
      "id": "https://api.maas.global/core/profile",
      "description": "MaaS user profiles as saved on DynamoDB",
      "type": "object",
      "properties": {
        "id": {},
        "identityId": {
          "type": "string",
          "pattern": "^[aepus]{2}-[\\w]{4}-\\d:[a-f\\d]{8}(-[a-f\\d]{4}){3}-[a-f\\d]{12}$"
        },
        "balance": {
          "type": "number"
        },
        "planLevel": {
          "type": "number"
        },
        "plans": {
          "type": "array",
          "items": {
            "type": "object",
            "additionalProperties": true,
            "required": [
              "id",
              "name",
              "price",
              "currency"
            ],
            "properties": {
              "id": {
                "type": "string"
              },
              "name": {
                "type": "string"
              },
              "invoiceName": {
                "type": "string"
              },
              "price": {
                "type": "integer"
              },
              "currency": {
                "type": "string"
              },
              "pointGrant": {
                "type": "integer"
              },
              "period": {
                "type": "integer"
              },
              "periodUnit": {
                "type": "string",
                "enum": [
                  "month"
                ]
              },
              "chargeModel": {
                "type": "string"
              },
              "feature": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string"
                    },
                    "desc": {
                      "type": "string"
                    },
                    "icon": {
                      "type": "string"
                    }
                  }
                }
              },
              "provider": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string"
                    },
                    "desc": {
                      "type": "string"
                    },
                    "icon": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "favoriteLocations": {
          "type": "array",
          "items": {
            "type": "object",
            "additionalProperties": false,
            "required": [
              "name",
              "address",
              "lat",
              "lon"
            ],
            "properties": {
              "name": {
                "type": "string"
              },
              "address": {
                "type": "string"
              },
              "lat": {
                "type": "number",
                "minimum": -90,
                "maximum": 90
              },
              "lon": {
                "type": "number",
                "minimum": -180,
                "maximum": 180
              }
            }
          }
        },
        "phone": {
          "type": "string",
          "pattern": "^\\+(?:\\d){6,14}\\d$"
        },
        "firstName": {
          "type": "string"
        },
        "lastName": {
          "type": "string"
        },
        "city": {
          "type": "string"
        },
        "country": {
          "type": "string"
        },
        "zipCode": {
          "type": "number"
        },
        "profileImageUrl": {
          "type": "string"
        }
      },
      "additionalProperties": false,
      "required": [
        "identityId",
        "planLevel",
        "balance",
        "phone"
      ],
      "definitions": {
        "favoriteLocation": {
          "type": "object",
          "additionalProperties": false,
          "required": [
            "name",
            "address",
            "lat",
            "lon"
          ],
          "properties": {
            "name": {
              "type": "string"
            },
            "address": {
              "type": "string"
            },
            "lat": {
              "type": "number",
              "minimum": -90,
              "maximum": 90
            },
            "lon": {
              "type": "number",
              "minimum": -180,
              "maximum": 180
            }
          }
        }
      }
    },
    "debug": {
      "type": "object",
      "additionalProperties": true
    }
  },
  "additionalProperties": false
}